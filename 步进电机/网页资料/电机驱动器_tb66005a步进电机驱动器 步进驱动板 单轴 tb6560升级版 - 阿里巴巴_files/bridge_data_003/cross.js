define("pkg/@alife/refly-mbox/3.1.4/lib/cross",["jquery"],function(t){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t,e){this.target=t,this.name=e}function i(t,e){this.targets={},this.name=t,this.listenFunc=[],s=e||s,"string"!=typeof s&&(s=s.toString()),this.initListen()}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=(n(1),n(2)),s="[PROJECT_NAME]",c="postMessage"in window;c?o.prototype.send=function(t){this.target.postMessage(s+t,"*")}:o.prototype.send=function(t){var e=window.navigator[s+this.name];if("function"!=typeof e)throw new Error("target callback function is not defined");e(s+t,window)},i.prototype.addTarget=function(t,e){var n=new o(t,e);this.targets[e]=n},i.prototype.initListen=function(){var t=this,e=function(e){var n;if("object"==("undefined"==typeof e?"undefined":a(e))&&e.data){if(n=e.data,!new RegExp("^"+s).test(n))return!1;if(n=n.slice(s.length),!r.isAliDomain(e.origin))throw new Error("invalid message origin")}else n=e;for(var o=0;o<t.listenFunc.length;o++)t.listenFunc[o](n)};c?r.addHandler(window,"message",e):window.navigator[s+this.name]=e},i.prototype.listen=function(t){this.listenFunc.push(t)},i.prototype.clear=function(){this.listenFunc=[]},i.prototype.send=function(t,e){var n,o=this.targets;if(1==arguments.length){e=t;for(n in o)o.hasOwnProperty(n)&&o[n].send(e)}else{if(2!=arguments.length)throw new Error("params are lost.");if("undefined"==typeof t||""==t)throw new Error("target are invalid.");o[t].send(e)}},t.exports=i},function(e,n){e.exports=t},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1);t.exports={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},isAliDomain:function(t,e){var n=["tmall.com","tmall.hk","taobao.com","taobaocdn.com","tbcdn.cn","1688.com","alibaba.com","aliyun.com","alipay.com","alisoft.com","alimama.com","hitao.com","aliexpress.com","laiwang.com","etao.com","kissyui.com","95095.com","taohua.com","tmall.net","tmall.com.hk","taobao.net","taobao.org","alibaba-inc.com","1688.net","alibaba.net","aliyun.net","alipay.net","alisoft.net","alimama.net","hitao.net","aliexpress.net","laiwang.net","etao.net","alicdn.com","aliimg.com"];"undefined"!=typeof e&&(n=n.concat(e));var o=new RegExp("^http(s)?:\\/\\/[a-z0-9-\\.]*("+n.join("|")+")","i");t+="";var i=t.match(o);return!!i},isAliTestDomain:function(t){if(t||(t=document.location.href),this.isAliDomain(t))return/-test\./.test(t)},parseURL:function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol,host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,n={},o=e.search.replace(/^\?/,"").split("&"),i=o.length,a=0;a<i;a++)o[a]&&(t=o[a].split("="),n[t[0]]=decodeURIComponent(t[1]));return n}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}},getConfig:function(){var t={};return window._MboxConfig&&"object"==o(window._MboxConfig)&&(t=i.extend(t,window._MboxConfig)),t}}}])});;